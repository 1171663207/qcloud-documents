CloudBase CLI v1 版本已经规划了许久，在 v1 版本中，我们完全改变了命令的使用方法，简化了部分命令的长度，并向更为标准的规范对齐，这也是后期我们努力的发展发向：为用户提供更简单、更强大的 CLI 工具。

同时，CloudBase CLI v1 版本完全兼容了 CloudBase v.0 中的命令用法，您不用担心升级所可能带来的问题，这并不是一次破坏性的、不兼容的升级。尽管如此，我们任建议您使用新的命令，这是未来的发展方向。

## 升级说明

### tcb 命令

在 v1 版本中，我们引入了 `tcb` 命令，可以一键创建、部署云开发项目。
>?命令格式变更CLI 1.2.0 版本起，增加了对多地域的支持，您可以通过 CLI 操作云开发不同地域的资源。

默认情况下，CLI 可以直接操作上海地域的环境，当您需要操作其他地域的环境时，请通过 `-r` 全局参数指定地域，例如：

```bash
# 展示出广州地域的环境列表
tcb env list -r gz

# 将函数部署到广州地域的环境
tcb fn deploy app -r gz -e envID

...
```

当不指定 `-r` 参数时，即视为环境为上海地域的环境。

>? `-r` **参数适用于全部的命令**

## 地域列表

`gz` 为广州地域的缩写，全称为 `ap-guangzhou`，在使用 CLI 时，可以使用缩写，下面是全部地域的简称信息

```bash
# 已支持地域
gz: ap-guangzhou
bj: ap-beijing
sh: ap-shanghai

# 可能会支持的地域
# nj: ap-nanjing
# cd: ap-chengdu
# cq: ap-chongqing
```

## 配置文件

您也可以在配置文件中指定环境的地域信息，无需添加 `-r` 参数，如下所示

```json
{
  "version": "2.0",
  "envId": "envId",
  "region": "ap-guangzhou",
  "framework": {
    "name": "koa-starter",
    "plugins": {
      "node": {
        "use": "@cloudbase/framework-plugin-node",
        "inputs": {
          "name": "koa-starter",
          "path": "/koa-starter"
        }
      }
    }
  }
}
```

在 v1 版本中，所有的命令由 `env:list` 格式变成了 `env list` 格式，即命令中所有的 `:` 符号修改为空格使用。这有助于我们合并同类型的命令，提供更简单易懂的命令 help 提示。同时也符合大部分的命令使用习惯，降低学习成本。

### 命令名变更

- 原 `functions` 命令改为了简短的 `fn` 命令，如 `tcb fn list`。
- 原云接入 `service` 命令改为了 `access` 命令。

### 移除编程式 API

在 v1 版本中，我们彻底移除了 CLI 的编程式使用，如果您需要以管理员身份操作云开发的资源，请使用 [`@cloudbase/manager-node`](https://docs.cloudbase.net/api-reference/manager/node/introduction.html) SDK。
