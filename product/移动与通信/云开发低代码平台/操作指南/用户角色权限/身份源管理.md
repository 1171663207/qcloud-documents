

本文通过微搭 SSO 集成操作并以 Github 为例对身份源管理进行讲解。
<dx-steps>
-[在**微搭**创建一个自定义应用](#step1)
-[在 **GitHub** 开发平台创建一个 OAuth 应用 ](#step2)
-[在**微搭** > **身份源管理**创建一个身份源，填入 GitHub OAuth 应用配置](#step3) 
-[在微搭创建的自定义应用的**编辑器** > **登录设置**里选中 Github 身份源](#step4) 
-[应用发布后使用](#step5)
</dx-steps>


## 操作步骤
[](id:step1)
### 步骤1：创建自定义应用
1. 进入腾讯云微搭低代码控制台 [**创建新应用**](https://console.cloud.tencent.com/lowcode/create/) 页面，选择**新建自定义应用**。
![](https://qcloudimg.tencent-cloud.cn/raw/d568bb9f7a6d0df37c2e098da10a51c7.png)
2. 单击后需填写**应用基础信息** 。<br>
<img src="https://main.qcloudimg.com/raw/8d4031606e9ee6da4917e5d8af6f3096.png" width="80%"></img>
<dx-alert infotype="explain" title="">
**应用基础信息**包括应用名称、应用描述和应用环境，应用环境本质为云开发环境，主要用于存放应用。
</dx-alert>
3. [](id:step1_3)进入 [**应用**](https://console.cloud.tencent.com/lowcode/app) 页面，找到新建应用，单击**应用详情**进入详情页获取**访问地址**。
![](https://qcloudimg.tencent-cloud.cn/raw/0511b55e96ffa86967c7f05106f9cac2.png)





[](id:step2)
### 步骤2：在 GitHub 开发平台创建 OAuth 应用

1. 登录 GitHub 并进入 [Developer settings](https://github.com/settings/developers) 页面。单击 **Register a new application**。
![](https://qcloudimg.tencent-cloud.cn/raw/e1fb9a2e36002d12596fe4c2c81b3cce.png)
<dx-alert infotype="notice" title="">
用户或组织最多可以拥有100个 OAuth 应用程序。
</dx-alert>
2. 填写相应基础信息后单击 **Register application**。
![](https://qcloudimg.tencent-cloud.cn/raw/66ff0dc7563b24be3622f5cf54ef448b.png)
	- Application name：可以填写中英文。
	- Homepage URL：可在 [步骤1.3](#step1_3) 中的应用详情里获取。
	- Authorization callback URL：微搭会提供回调地址，在 [步骤3.3](#step3_3) 的**认证源基础配置**里复制回调 URL，粘贴至上方输入框。



<dx-alert infotype="notice" title="">
GitHub 里创建 OAuth 应用保存，需要完成 [步骤3.3](#step3_3) 的**认证源基础配置**才能完成。
</dx-alert>




[](id:step3)
### 步骤3：创建身份源并配置 GitHub OAuth 应用
<img src = "https://qcloudimg.tencent-cloud.cn/raw/6e962ad96652cd7b09d493fad844b526.png" style = "width:80%">  
1. 选择认证源协议
<img src = "https://qcloudimg.tencent-cloud.cn/raw/bcc41e3a9d00fe76116b90b341a6dc02.png" style = "width:80%">  


2. 认证源名称及logo
使用的时候显示 
<img src = "https://qcloudimg.tencent-cloud.cn/raw/7f64f5d8c67c18974d64d82b006ac1bd.png" style = "width:80%">  

3. [](id:step3_3)认证源基础配置
● 首先复制回调URL到上面第二步的Authorization callback URL里，然后保存，会生成对应的**Client ID**和**Client secrets**
<img src = "https://qcloudimg.tencent-cloud.cn/raw/6ec82f5a6a9e80fe6f425183ad0e5bc8.png" style = "width:80%"> 
● 复制**github**的**Client ID**和**Client secrets**

● [**点击跳转授权 URL**](https://github.com/login/oauth/authorize)  
●  [**点击跳转Token URL**](https://github.com/login/oauth/access_token)  
●  [**用户信息URL**](https://api.github.com/user)  

●  [**GitHub授权 OAuth 应用程序操作指引**](https://docs.github.com/cn/developers/apps/building-oauth-apps/authorizing-oauth-apps)  

<img src = "https://qcloudimg.tencent-cloud.cn/raw/36c9e25c9f0b579e1399e51d48f7e649.png" style = "width:80%">  


## (4) 账号关联
账号关联目前的策略暂无匹配规则，无需配置。 
<img src = "https://qcloudimg.tencent-cloud.cn/raw/8c0838c947e2b4094d4ccab831c2896d.png" style = "width:80%">  

## (5) 创建完成
<img src = "https://qcloudimg.tencent-cloud.cn/raw/30a5d392915894c2b5d95ee5d0571d66.png" style = "width:80%">  



[](id:step4)
### 步骤4：在微搭自定义应用选择 GitHub 身份源

## (1) 编辑器入口
![](https://qcloudimg.tencent-cloud.cn/raw/8c00f37207a181cafc12341cbb90c996.png)
## (2) 登录页设置里选择github
<img src = "https://qcloudimg.tencent-cloud.cn/raw/fe54e3fcefe01e2831b95955ef8ad570.png" style = "width:80%">  

## (3)访问授权里选择“需登录后访问应用”
<img src = "https://qcloudimg.tencent-cloud.cn/raw/10798df78225323770582d86b9a51e19.png" style = "width:80%">  

## (4) 安全设置
应用自动退出登录的时间，默认无需设置 
<img src = "https://qcloudimg.tencent-cloud.cn/raw/27e5a0279a4266ba0842a57921d5f352.png" style = "width:80%">  

## (5) 发布应用
<img src = "https://qcloudimg.tencent-cloud.cn/raw/70df0b08ecaae0ca9bb1f0e445de0e25.png" style = "width:80%">  


[](id:step5)
### 步骤5：应用发布
● [**点击跳转链接**](https://lowcode-1gf52uyb34bc16a7-1302542649.tcloudbaseapp.com/app-ZTUbBDqY/production/)  
<img src = "https://qcloudimg.tencent-cloud.cn/raw/2daae4acac1d317c81bb7dd97071f7b3.png" style = "width:80%"> 

<img src = "https://qcloudimg.tencent-cloud.cn/raw/984335e7f1318d57d062222f9d7e686b.png" style = "width:80%">  

<img src = "https://qcloudimg.tencent-cloud.cn/raw/255232d52727c556046370189e7f6eb5.png" style = "width:80%">  
<img src = "https://qcloudimg.tencent-cloud.cn/raw/3581f05e6c57e30d0eddabb0e45df254.png" style = "width:80%">  

<img src = "https://qcloudimg.tencent-cloud.cn/raw/ada1851b960c48182deb288eb290d1fe.png" style = "width:80%">  



