# 员工数据报表 - 数据源

## 数据准备

### Demo数据

在这个场景下，我们准备使用Mysql数据库作为数据源。

Demo数据地址：<https://github.com/datacharmer/test_db>

> 第一步：使用`employees.sql`完成表结构的搭建
>
> 第二步：使用`xxx.dump`文件将数据导入数据库

### 数据ER图

数据表之间的关系图（ER图）如下：

![Demo数据ER图](https://qcloudimg.tencent-cloud.cn/raw/90e0dc2a6d9d64cb19b9272c915b5688.png)

### 数据解释

在上图中，一共有6张表，核心表的信息如下：

#### 部门表（departments）

存储部门的基本信息

| 字段 | 解释 |
|---|---|
| dept_no  | 部门编号 |
| dept_name  | 部门名称 |

#### 员工表（employees）

存储员工的基本信息

| 字段 | 解释 |
|---|---|
| emp_no  | 员工编号 |
| birth_date | 员工出生日期 |
| first_name | 员工名 |
| last_name | 员工姓 |
| sex | 员工性别 |
| hire_date | 雇佣日期 |

#### 部门员工关系表（dept_emp)

存储部门和员工的关系信息，比如：员工属于哪个部门

| 字段 | 解释 |
|---|---|
| dept_no  | 部门编号 |
| emp_no  | 员工编号 |
| from_date | 开始时间 |
| to_date | 结束时间 |

#### 员工薪水表（salaries）

存储员工薪水发放信息

| 字段 | 解释 |
|---|---|
| emp_no  | 员工编号 |
| salary  | 薪水 |
| from_date | 开始时间 |
| to_date | 结束时间 |

## 数据源连接

我们通过点击**概览页** - **数据连接** 按钮，创建数据库连接：

第一步：

![数据源连接入口](https://qcloudimg.tencent-cloud.cn/raw/05a6700a5dec8f58d1a34f70bb661345.png)

第二步：

![数据源信息填写](https://qcloudimg.tencent-cloud.cn/raw/3e2502a3e164d10b5134e31d3095a52f.png)

### 注意事项

如果连接测试不通过，请通过如下几个步骤进行排查：

1. 公网域名可正常解析，公网 IP 地址和端口可正常访问；
2. 数据库 IP 白名单设置，查看[腾讯云图数据代理 IP 白名单](https://cloud.tencent.com/document/product/665/42131)
3. 数据库已启动，且未被防火墙禁止访问。
